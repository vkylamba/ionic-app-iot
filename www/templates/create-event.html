<ion-view view-title="Create Event">  

  <ion-content class="padding">
    <h2>Event details</h2>
    <div class="list">
      <label class="item item-input item-floating-label">
        <span class="input-label">Device: </span>
        <label>{{settings.event_data.device}}</label>
      </label>
      <label class="item item-input item-floating-label">
        <span class="input-label">Event: </span>
        <select ng-model="settings.selected_event" ng-change="selected_event_changed()">
          <option ng-repeat="parameter in settings.event_data.available_event_types">{{parameter.name}}</option>
        </select>
      </label>
      <label class="item item-input item-floating-label">
        <span class="input-label">Limit</span>
        <input type="text" ng-model="settings.event_data.limit"/>
      </label>
      <label class="item item-input item-floating-label">
        <span class="input-label">Schedule</span>
        <input type="text" ng-model="settings.event_data.schedule"/>
      </label>

      <label class="item">
      <span>Actions</span>
        <ion-list>
          <ion-item class="item-remove-animate item-icon-right" ng-repeat="action in settings.event_data.actions" type="item-text-wrap">
            <h2>{{action.name}}</h2>
            Device Command: {{action.device_command}}<br>
            Command param: {{action.command_parameter}}
            <i class="icon ion-chevron-right icon-accessory"></i>
            <ion-option-button class="button-assertive" ng-click="edit_action(action)">
              Change
            </ion-option-button>
            <ion-option-button class="button-assertive" ng-click="delete_action(action)">
              Delete
            </ion-option-button>
          </ion-item>

          <ion-item class="item-remove-animate item-icon-right" type="item-text-wrap">
            <h2>Add new action</h2>
            <i class="icon ion-chevron-right icon-accessory"></i>
            <ion-option-button class="button-assertive" ng-click="edit_action('new')">
              Add
            </ion-option-button>
          </ion-item>
        </ion-list>
      </label>

    </div>
    <button class="button button-block button-assertive" ng-click="create_event()">
      Submit
    </button>
  </ion-content>

</ion-view>